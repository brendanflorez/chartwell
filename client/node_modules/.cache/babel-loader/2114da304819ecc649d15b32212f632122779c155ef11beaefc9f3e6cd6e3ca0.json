{"ast":null,"code":"var _jsxFileName = \"/home/runner/Chartwell-v2/client/src/components/CausalMaps.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CausalMaps = () => {\n  _s();\n  const [inputValue, setInputValue] = useState('');\n  const [causalMaps, setCausalMaps] = useState([]);\n  console.log('CausalMaps component rendered');\n  const formatResponse = responseText => {\n    return responseText.replace(/\\n/g, '<br/>').replace(/\\\\/g, '');\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    console.log('handleSubmit called');\n    try {\n      //const response = await axios.post('/api/generate-causal-map', { input: inputValue });\n      const response = await axios.post('/generate-typeql', {\n        userInput: inputValue\n      });\n      console.log('API response:', response);\n      if (response.data && response.data.typeQLCode) {\n        //setCausalMaps([...causalMaps, response.data.typeQL]);\n        setCausalMaps([...causalMaps, formatResponse(response.data.typeQL)]);\n      } else {\n        console.error('Unexpected API response:', response);\n      }\n    } catch (error) {\n      console.error('Error during API call:', error);\n    }\n    setInputValue('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"causal-input\",\n        children: \"Please enter causal map input:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"causal-input\",\n        type: \"text\",\n        value: inputValue,\n        onChange: event => setInputValue(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: () => console.log('Button clicked'),\n        children: \"Generate Causal Map\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: causalMaps.map((map, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Causal Map \", index + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          dangerouslySetInnerHTML: {\n            __html: map\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 3\n  }, this);\n};\n_s(CausalMaps, \"PMeg/5v8GZ5Z3fwPfwX+Ip+B0dw=\");\n_c = CausalMaps;\nexport default CausalMaps;\nvar _c;\n$RefreshReg$(_c, \"CausalMaps\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","CausalMaps","_s","inputValue","setInputValue","causalMaps","setCausalMaps","console","log","formatResponse","responseText","replace","handleSubmit","event","preventDefault","response","post","userInput","data","typeQLCode","typeQL","error","children","onSubmit","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","type","value","onChange","target","onClick","map","index","dangerouslySetInnerHTML","__html","_c","$RefreshReg$"],"sources":["/home/runner/Chartwell-v2/client/src/components/CausalMaps.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst CausalMaps = () => {\n  const [inputValue, setInputValue] = useState('');\n  const [causalMaps, setCausalMaps] = useState([]);\n  console.log('CausalMaps component rendered');\n\n  const formatResponse = (responseText) => {\n    return responseText.replace(/\\n/g, '<br/>').replace(/\\\\/g, '');\n  };\n  \n  \n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    console.log('handleSubmit called');\n\n    try {\n      //const response = await axios.post('/api/generate-causal-map', { input: inputValue });\n      const response = await axios.post('/generate-typeql', { userInput: inputValue });\n      console.log('API response:', response);\n\n      if (response.data && response.data.typeQLCode) {\n        //setCausalMaps([...causalMaps, response.data.typeQL]);\n        setCausalMaps([...causalMaps, formatResponse(response.data.typeQL)]);\n\n      } else {\n        console.error('Unexpected API response:', response);\n      }\n    } catch (error) {\n      console.error('Error during API call:', error);\n    }\n\n    setInputValue('');\n  };\n\n  return (\n  <div>\n    <form onSubmit={handleSubmit}>\n      <label htmlFor=\"causal-input\">Please enter causal map input:</label>\n      <input\n        id=\"causal-input\"\n        type=\"text\"\n        value={inputValue}\n        onChange={(event) => setInputValue(event.target.value)}\n      />\n      <button type=\"submit\" onClick={() => console.log('Button clicked')}>Generate Causal Map</button>\n    </form>\n    <div>\n      {causalMaps.map((map, index) => (\n        <div key={index}>\n          <h2>Causal Map {index + 1}</h2>\n          \n          <p dangerouslySetInnerHTML={{ __html: map }}></p>\n        </div>\n      ))}\n    </div>\n  </div>\n);\n};\n\nexport default CausalMaps;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}